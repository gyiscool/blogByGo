<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8" />
        <title>Define extention plugins for Editor.md - Editor.md examples</title>
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="../css/editormd.css" />
        <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />
    </head>
    <body>
<div class="markdown-body editormd-preview-container" previewcontainer="true" style="padding: 20px;"><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> factory </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">exports</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> $ </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">;</span><span class="pln">           </span><span class="com">// if using module loader(Require.js/Sea.js).</span></code></li><li class="L3"><code><span class="pln">        exports</span><span class="pun">.</span><span class="pln">customMethod </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">            </span><span class="com">//....</span></code></li><li class="L5"><code><span class="pln">        </span><span class="pun">};</span></code></li><li class="L6"><code><span class="pln">        exports</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">youPluginName </span><span class="pun">=</span><span class="pln"> f</span><span class="pun">[</span><span class="pln">TOC</span><span class="pun">]</span></code></li></ol></pre><h3 id="h3-define-plugin"><a name="Define plugin" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Define plugin</h3><h4 id="h4-plugin-directory"><a name="Plugin directory" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Plugin directory</h4><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pln">editor</span><span class="pun">.</span><span class="pln">md</span><span class="pun">/</span></code></li><li class="L1"><code><span class="pln">    plugins</span><span class="pun">/</span></code></li><li class="L2"><code><span class="pln">        plugin</span><span class="pun">-</span><span class="pln">name</span><span class="pun">/</span></code></li><li class="L3"><code><span class="pln">            </span><span class="pun">....</span></code></li></ol></pre><h4 id="h4-example"><a name="Example" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Example</h4><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-javascript"></code></li><li class="L2"><code class="lang-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> factory </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">exports</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="lang-javascript"></code></li><li class="L4"><code class="lang-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> $ </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">;</span><span class="pln">           </span><span class="com">// if using module loader(Require.js/Sea.js).</span></code></li><li class="L5"><code class="lang-javascript"></code></li><li class="L6"><code class="lang-javascript"><span class="pln">        exports</span><span class="pun">.</span><span class="pln">customMethod </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln">            </span><span class="com">//....</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L9"><code class="lang-javascript"></code></li><li class="L0"><code class="lang-javascript"><span class="pln">        exports</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">youPluginName </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln">            </span><span class="com">/*</span></code></li><li class="L2"><code class="lang-javascript"><span class="com">            var _this       = this; // this == the current instance object of Editor.md</span></code></li><li class="L3"><code class="lang-javascript"><span class="com">            var lang        = this.lang;</span></code></li><li class="L4"><code class="lang-javascript"><span class="com">            var settings    = this.settings;</span></code></li><li class="L5"><code class="lang-javascript"><span class="com">            var editor      = this.editor;</span></code></li><li class="L6"><code class="lang-javascript"><span class="com">            var cursor      = cm.getCursor();</span></code></li><li class="L7"><code class="lang-javascript"><span class="com">            var selection   = cm.getSelection();</span></code></li><li class="L8"><code class="lang-javascript"></code></li><li class="L9"><code class="lang-javascript"><span class="com">            cm.focus();</span></code></li><li class="L0"><code class="lang-javascript"><span class="com">            */</span></code></li><li class="L1"><code class="lang-javascript"></code></li><li class="L2"><code class="lang-javascript"><span class="pln">            </span><span class="com">//....</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L4"><code class="lang-javascript"></code></li><li class="L5"><code class="lang-javascript"><span class="pln">    </span><span class="pun">};</span></code></li><li class="L6"><code class="lang-javascript"></code></li><li class="L7"><code class="lang-javascript"><span class="pln">    </span><span class="com">// CommonJS/Node.js</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> require </span><span class="pun">===</span><span class="pln"> </span><span class="str">"function"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> exports </span><span class="pun">===</span><span class="pln"> </span><span class="str">"object"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> module </span><span class="pun">===</span><span class="pln"> </span><span class="str">"object"</span><span class="pun">)</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln">        module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> factory</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln">    </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> define </span><span class="pun">===</span><span class="pln"> </span><span class="str">"function"</span><span class="pun">)</span><span class="pln">  </span><span class="com">// AMD/CMD/Sea.js</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">define</span><span class="pun">.</span><span class="pln">amd</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// for Require.js</span></code></li><li class="L5"><code class="lang-javascript"></code></li><li class="L6"><code class="lang-javascript"><span class="pln">            define</span><span class="pun">([</span><span class="str">"editormd"</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">editormd</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln">                factory</span><span class="pun">(</span><span class="pln">editormd</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L9"><code class="lang-javascript"></code></li><li class="L0"><code class="lang-javascript"><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// for Sea.js</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln">            define</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">require</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln">                </span><span class="kwd">var</span><span class="pln"> editormd </span><span class="pun">=</span><span class="pln"> require</span><span class="pun">(</span><span class="str">"./../../editormd"</span><span class="pun">);</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln">                factory</span><span class="pun">(</span><span class="pln">editormd</span><span class="pun">);</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L7"><code class="lang-javascript"><span class="pln">    </span><span class="kwd">else</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln">        factory</span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">editormd</span><span class="pun">);</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L1"><code class="lang-javascript"></code></li><li class="L2"><code class="lang-javascript"><span class="pun">})();</span></code></li></ol></pre>
<h4 id="h4-usage-plugin"><a name="Usage plugin" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Usage plugin</h4><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-html"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"../plugins/you-plugin-name/you-plugin-name.js"</span><span class="tag">&gt;&lt;/script&gt;</span></code></li><li class="L1"><code class="lang-html"><span class="tag">&lt;script&gt;</span></code></li><li class="L2"><code class="lang-html"><span class="pln">    editormd</span><span class="pun">.</span><span class="pln">customMethod</span><span class="pun">();</span></code></li><li class="L3"><code class="lang-html"></code></li><li class="L4"><code class="lang-html"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> testEditor </span><span class="pun">=</span><span class="pln"> editormd</span><span class="pun">(</span><span class="str">"test-editormd"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="lang-html"><span class="pln">        path   </span><span class="pun">:</span><span class="pln"> </span><span class="str">'../lib/'</span><span class="pun">,</span></code></li><li class="L6"><code class="lang-html"><span class="pln">        onload </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-html"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">youPluginName</span><span class="pun">();</span></code></li><li class="L8"><code class="lang-html"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pluginA</span><span class="pun">();</span></code></li><li class="L9"><code class="lang-html"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">executePlugin</span><span class="pun">(</span><span class="str">"somePluginName"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"you-plugin-name/you-plugin-name"</span><span class="pun">);</span><span class="pln"> </span><span class="com">// load and execute plugin</span></code></li><li class="L0"><code class="lang-html"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L1"><code class="lang-html"><span class="pln">    </span><span class="pun">});</span></code></li><li class="L2"><code class="lang-html"></code></li><li class="L3"><code class="lang-html"><span class="pln">    </span><span class="com">// or</span></code></li><li class="L4"><code class="lang-html"><span class="pln">    $</span><span class="pun">(</span><span class="str">"#btn"</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L5"><code class="lang-html"><span class="pln">        testEditor</span><span class="pun">.</span><span class="pln">youPluginName</span><span class="pun">();</span></code></li><li class="L6"><code class="lang-html"><span class="pln">    </span><span class="pun">});</span></code></li><li class="L7"><code class="lang-html"><span class="tag">&lt;/script&gt;</span></code></li></ol></pre>
</div>
</body>
</html>